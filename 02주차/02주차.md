1. 현실세계를 통해 ER모델을 설계해 ERD를 만들고 관계형모델을 사용해서 relation schema를 만든다.
-> I/O를 할 수 있다. 현실세계에서 어떻게 전체 데이터의 계략적인 데이터 모습을 표현할 것인가?

Relation도 관계라고 표현. ERD로 그림을 그린다. 

1. 데이터 베이스 응용 (Company)
- 응용프로그램 개발 과정
2. ER 모델의 개념
- Entity와 Relationship
- Entity Type, Relationship 집합
- 약한 entitiy (독립적이지 못함)
- atributute 단순, 복합, 다중값
3. ER 다이어그램
- Entity, Relationship, Attibute, Participation, Cardinality

* 데이터 베이스 기본 연산자 
1. 질의 : 정보 검색(Retrieval)
2,3,4. 갱신 : 최신의 정보로 유지(Insert, Delete, Update)

* User-friendly GUI
- 사용자에서 편안한 환경제공

* App Example
- 은행 데이터베이스는 고객 계좌를 유지
- 프로그램은 저축과 인출에 대한 데이터베이스 갱신
- 이외에 계좌 개설/폐쇄, 잔액조회, 이체, ...

1. 요구 사항
- 요구사항 수집 및 분석
2. 데이터베이스 설계
- 데이터베이스 구조에 대한 상세한 정의
3. 데이터베이스 연산자
- 데이터베이스 접근에 대한 연산자
4. 프로그램은 데이터베이스를 이용
- 프로그램에서 연산자를 사용하여 업무처리한다.
- 다양한 정보를 검색한다
- 업무처리에 다른 데이터베이스를 갱신한다.

## ER 모델
1. 사우이 레벨의 개념적 데이터 모델
- 데이터에 대한 전반적인 내용
- 전체 데이터의 개념적인 모습(자세한 내용은 없음)
2. 응용프로그램에서 데이터베이스의 개념적 설계
- 엔티티
 - 애트리뷰트, 키 애트리뷰트, 약한 엔티티
- 릴레이션쉽
 - 참여, 카디날리티, 역할
- 이를 지원하는 다양한 툴
 - ERWin, ER/Studio, MySQL Workbench, MagicDraw
* 좌측은 응용프로그램, 우측은 데이터베이스
![image](https://user-images.githubusercontent.com/76835313/133974053-e99a96dd-a575-4943-b091-67604c4bbf25.png)

1. 요구사항 수집과 분석
* 향후 데이터베이스 사용자와 인터뷰
- 업무처리 파악 (하지만 사용자들이 협조적이지 않다.)
* 데이터 요구조건을 파악하여 문서화
- 업무처리에 필요한 데이터 타입 수집
* 응용프로그램의 기능적인 요구조건 명시
- 업무처리에 필요한 기능들
* 데이터베이스에 적용할 연산자 명시
- 업무처리에 필요한 정보 검색
- 업무처리에 따른 데이터베이스 갱신

2. 개념적 데이터베이스 설계
* 데이터베이스에 대한 개념적 스키마 설계
- 전체의 전반적인 데이터 모습
* 사용자의 데이터 요구조건에 대한 구체적인 설명
- 데이터 타입(학생) : 애트리뷰트 
- 릴레이션쉽 : 참여, 카디날리티
- 제약조건 : 키
- 구체적인 구현 방법은 없음
* 모든 사용자들에 대한 요구조건을 만족
- 통합된 데이터베이스에서 각 사용자 데이터를 생성한다. 
- 사용자들 사이 서로 상충되는 내용 수정

3. 기본 데이터 모델 연산 및 구현
* 상위 레벨의 트랜잭션
- 기능적 분석에 대한 대응하는 연산자
- 해당 연산자는 데이터베이스에 연산
- 기능별 업무처리는 해당 데이터베이스 연산으로
* 기능적 요구조건을 만족하는 개념 스키마
- 기능별 업무에 해당 데이터베이스 연산 가능
* 구현
- 적합한 DBMS 선택
- ER 데이터 모델을 관계형 모델로 변환
- DBMS에서 데이터베이스 생성

* Company 데이터베이스 요구사항
- 회사는 여러 부서들로 구성된다. 각 부서마다 고유한 이름, 고유한 번호, 부서를 관리하는 특정 사원이 있다. 사원이 부서를 관리하기 시작한 날짜도 유지한다. 한 부서는 여러 위치에 있을 수 있다.
- 한 부서는 여러 개의 프로젝트들을 관리한다. 각 프로젝트는 고유한 이름, 고유한 번호, 하나의 위치를 가진다. 
- 각 사원에 대하여 이름, 주민등록번호, 주소, 월급, 성별, 생년월일을 저장한다. 각 사원은 한 부서에세ㅓ 소속되고, 여러 프로젝트에 참여할 수 있다. 반드시 사원이 각 프로젝트에 참여하는 주당 근무 시간을 저장한다. 또한 사원의 직속 상사도 유지한다.
- 각 사원의 부양가족들을 유지한다. 부양가족에 대해 이름, 성별, 생년월일, 사원과의 관계를 유지한다.  
![image](https://user-images.githubusercontent.com/76835313/133975478-4b1cddc7-b194-488a-a928-6ea2a42e8efb.png)  
1. 사각형들이 entity이다.
2. 그 entity 안에는 성별 이름 등이 있다 부서도 이름 등이 있다. 부양가족주면에도 생일, 성 등이 있다.  
3. 가지처럼 나눠지고 타원으로되어있고 타원이 두개로 되어있는게 있다. 점선 밑줄도 있다. 
4. entity에는 이러한 속성들을 집어넣는다.
5. 마름모는 ralationship이다. 

* 다중값 애트리뷰트
1. 애트리뷰트는 일반적으로 하나의 값을 가진다.
2. 여러 값을 가질 경우도 있다.
- 집합값, 릴레이션값
- 예제
 - 대학 학위
 - 투톤 컬러
3. 단일값과 같은 방법으로 처리할 수 없다.
4. ERD에서 이중타원으로 표시
5. 특별한 방법으로 표현해야 한다.
- 단일값을 이용하여 표현할 수 밖에 없다.

* 점섬타원은 저장을 안해도된다. 필요할 땐 유도를 한다. 

## 애트리뷰트 분류 요약
1. 애트리 뷰트의 분해 여부에 따라
* 단순 애트리뷰트 : 더이상 분해가 안됨
* 복합 애트리뷰트 : 다른 애트리뷰트들로 분해됨
- 분해되는 구송요소만 사용
2. 애트리뷰트가 가지는 값의 개수에 따라
* 단일값 애트리뷰트 : 오직 하나의 값을 가짐
* 다중값 애트리뷰트 : 어러 개의 값을 가짐(값들의 집합)
- 새로운 릴레이션을 생성하여 표현
3. 애트리뷰트 값의 저장 여부에 따라
* 저장 애트리뷰트 : 값을 데이터베이스에 저장
* 유도 애트리뷰트 : 저장하지 않아도 값을 유도 가능
- 생년월일에서 나이를 유도할 수 있다.
- 부서에 소속된 사원의 수를 유도할 수 있다.

## 엔티티 타입
1. 데이터 베이스는 같은 애트리뷰트들을 가지는 엔티티들의 집합
* 각 엔티티는 각 애트리뷰트에 고유의 값을 가진다.
2. 엔티티 타입 이름과 애트리뷰트 리스트로 표현
3. ERD에서 엔티티 타입은 사각형으로 표시
4. ERD에서 애트리뷰트는 타원으로 표시
- 애트리뷰트 타원은 엔티티 타입의 사각형에 연결
- 복합 애트리뷰트는 구성요소 애트리뷰트를 연결
- 다중값 애트리뷰트는 이중 타원으로 표현
5. 엔티티 집합 : 엔티티 타입에서 해당 엔티티들의 모임

## 키 애트리뷰트
1. 애트리뷰트 값이 엔티티 집합에서 유일성/식별성
2. 애트리뷰트 값은 각 엔티티를 유일하게 식별
3. 예제 : 회사명, 학번, 주민등록번호
4. ERD에서 키 애트리뷰트는 **밑줄**로 표시
5. 여러 애트리뷰트들이 모여 키를 형성할 수도 있다.
- 복합 애트리뷰트로 그룹화 하여 밑줄
6. 엔티티 타입은 여러 키를 가질 수 있다.
- 밑줄로 표시된 애트리뷰트가 여럿
- 밑줄로 표시된 복합 애트리뷰트와 구별


## 도메인(Domain)
* 애트리뷰트가 가질 수 있는 값들의 집합
* 단순 애트리뷰는 특정의 도메인을 가진다.
* 예제
- 사원의 나이는 16에서 70까지
- 이름의 알파벳 문자열들의 집합
* 프로그래밍 언어에서 제공하는 integer, float, Boolean, string, 나열형 타입 등과 같은 기본 데이터 타입을 이용해서 명시
* Data, Time 등 추가적인 데이터 타입이 사용

## 엔티티
에트리 뷰트로 구성되어있고 사각형으로 표시한다. 

![image](https://user-images.githubusercontent.com/76835313/133979362-c7f94aa6-c40c-4e19-8d94-cab8bc0d44c3.png)  
-> 네개의 엔티티 타입이 모델링됐다. 

1. 부서라는 엔티티가 만들어진다. 
2. 이름, 주민번호,월급, 생년월일, 이름도 또 세가지로 나뉘고 그런다. 
3. 따라서 Name은 복합 애트리뷰트이다. 
4. 사원은 어떤 부서의 소속이된다.  

# 릴레이션쉽 : 엔티티와 엔티티간의 관계를 맺어주는 것
1. 엔티티 타입 E1, E2의 엔티티들 e1, e2사이의 관계
* 릴레이션쉽 인스턴스 r1=(e1~e2)
2. 릴레이션쉽 타입 R은 릴레이션쉽 집합을 가진다.
* 릴레이션쉽 집합은 같은 타입의 릴레이션쉽들의 모임
* 엔티티 타입은 릴레이션쉽 타입에 참여한다.
3. ERD에서 마름모로 표시
4. 릴레이션쉽 타입의 차수
* 참여하는 엔티티의 개수
* 이진 릴레이션쉽 타입, 삼진 릴레이션쉽 타입
* 일반적으로 이진 릴레이션쉽 타입을 주로 사용

# 순환 릴레이션쉽 (Recursive Ralationship) 타입
1. 한 에티티 타입이 릴레이션쉽에 두 번 이상 참여
* 참여하는 역할이 서로 다름
- 사원들의 상사 관계(Supervision)
- 한번은 상사 역할 또 한번은 부하 역할
* **역할을 표시하여 구별**
- Supervisor(1)
- Supervisee(2)

# 릴레이션쉽 제약조건
1. 카디날리티 
- 1:1 manages
- 1:N works for
- M:N works on
2. 참여 
* 전체 참여
- 모든 엔티티가 릴레이션쉽에 참여해야한다.
- ERD에서 두 줄로 표시
* 부분 참여
- 엔티티가 릴레이션쉽에 참여할(하지 않을) 수도 있다.
- ERD에서 한 줄로 표시

